# 1) Crear el Resource Group (si aún no existe)
az group create `
  --name RG-TerraformState `
  --location eastus2

# 2) Crear la Storage Account con un nombre único, p.ej. tfstatecollette123
az storage account create `
  --resource-group RG-TerraformState `
  --name tfstatecollette123 `
  --sku Standard_LRS `
  --kind StorageV2 `
  --location eastus2 `
  --access-tier Hot `
  --https-only true

# 3) Obtener la clave primaria
$key = az storage account keys list `
  --resource-group RG-TerraformState `
  --account-name tfstatecollette123 `
  --query "[0].value" -o tsv

# 4) Crear el contenedor "terraform-state"
az storage container create `
  --name terraform-state `
  --account-name tfstatecollette123 `
  --account-key $key `
  --public-access off
